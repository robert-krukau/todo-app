(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{14:function(e,t,c){},15:function(e,t,c){},16:function(e,t,c){},18:function(e,t,c){"use strict";c.r(t);var n=c(9),l=c.n(n),o=(c(14),c(15),c(16),c(1)),a=c(3),i=c(7),r=c(2),s=c(4),u=c.n(s),j=c(0),d=function(e){var t=e.todo,c=e.removeTodo,n=e.changeStatus,l=e.editTitle,a=Object(o.useState)(!1),i=Object(r.a)(a,2),s=i[0],d=i[1],b=Object(o.useState)(t.title),f=Object(r.a)(b,2),m=f[0],O=f[1],p=Object(o.useRef)(null);Object(o.useEffect)((function(){null!==p.current&&p.current.focus()}),[s]);return Object(j.jsxs)("li",{className:u()({completed:t.completed},{editing:s}),children:[Object(j.jsxs)("div",{className:"view",children:[Object(j.jsx)("input",{type:"checkbox",className:"toggle",checked:t.completed,onClick:function(){return n(t.id)}}),Object(j.jsx)("label",{onDoubleClick:function(){null!==p.current&&p.current.focus(),d(!0)},children:t.title?t.title:"".concat(c(t.id))}),Object(j.jsx)("button",{type:"button",className:"destroy",onClick:function(){return c(t.id)}})]}),Object(j.jsx)("input",{type:"text",ref:p,className:"edit",value:m,onChange:function(e){return O(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(l(m,t.id),d(!1)),"Escape"===e.key&&(d(!1),O(t.title))},onBlur:function(){return d(!1)}})]},t.id)},b=function(e){var t=e.items,c=e.removeTodo,n=e.changeStatus,l=e.editTitle;return Object(j.jsx)("ul",{className:"todo-list",children:t.map((function(e){return Object(j.jsx)(d,{todo:e,removeTodo:c,changeStatus:n,editTitle:l})}))})},f=function(e){var t=e.toggleFilter,c=Object(o.useState)("all"),n=Object(r.a)(c,2),l=n[0],a=n[1];return Object(j.jsxs)("ul",{className:"filters",children:[Object(j.jsx)("li",{children:Object(j.jsx)("a",{href:"#/",className:u()({selected:"all"===l}),onClick:function(){t("all"),a("all")},children:"All"})}),Object(j.jsx)("li",{children:Object(j.jsx)("a",{href:"#/active",className:u()({selected:"active"===l}),onClick:function(){t("active"),a("active")},children:"Active"})}),Object(j.jsx)("li",{children:Object(j.jsx)("a",{href:"#/completed",className:u()({selected:"completed"===l}),onClick:function(){t("completed"),a("completed")},children:"Completed"})})]})},m=function(){var e=Object(o.useState)(""),t=Object(r.a)(e,2),c=t[0],n=t[1],l=Object(o.useState)(JSON.parse(localStorage.getItem("items")||"[]")),s=Object(r.a)(l,2),u=s[0],d=s[1],m=Object(o.useState)(0),O=Object(r.a)(m,2),p=O[0],h=O[1],x=Object(o.useState)(0),g=Object(r.a)(x,2),v=g[0],N=g[1],S=Object(o.useState)(u),k=Object(r.a)(S,2),y=k[0],C=k[1];Object(o.useEffect)((function(){localStorage.setItem("items",JSON.stringify(u)),h(u.filter((function(e){return e.completed})).length),N(u.filter((function(e){return!e.completed})).length),C(u)}),[u]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("header",{className:"header",children:[Object(j.jsx)("h1",{children:"todos"}),Object(j.jsx)("form",{onSubmit:function(e){e.preventDefault();var t={id:+new Date,title:c,completed:!1};c&&(d([].concat(Object(i.a)(u),[t])),n(""))},children:Object(j.jsx)("input",{type:"text",className:"new-todo",placeholder:"What needs to be done?",value:c,onChange:function(e){return n(e.target.value)}})})]}),Object(j.jsxs)("section",{className:"main",children:[Object(j.jsx)("input",{type:"checkbox",checked:p===u.length,id:"toggle-all",className:"toggle-all",onChange:function(){if(u.find((function(e){return!0!==e.completed}))){var e=u.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{completed:!0})}));return d(e)}return d(u.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{completed:!e.completed})})))}}),Object(j.jsx)("label",{htmlFor:"toggle-all",children:"Mark all as complete"}),Object(j.jsx)(b,{items:y,removeTodo:function(e){var t=u.filter((function(t){return t.id!==e}));d(t)},changeStatus:function(e){d(u.map((function(t){return t.id===e?Object(a.a)(Object(a.a)({},t),{},{completed:!t.completed}):t})))},editTitle:function(e,t){d(u.map((function(c){return c.id===t?Object(a.a)(Object(a.a)({},c),{},{title:e}):c})))}})]}),u.length>0&&Object(j.jsxs)("footer",{className:"footer",children:[Object(j.jsx)("span",{className:"todo-count",children:"".concat(v," ").concat(1===v?"item":"items"," left")}),Object(j.jsx)(f,{toggleFilter:function(e){switch(e){case"all":return C(u);case"active":return C(Object(i.a)(u).filter((function(e){return!e.completed})));case"completed":return C(Object(i.a)(u).filter((function(e){return e.completed})));default:return 1}}}),p>0&&Object(j.jsx)("button",{type:"button",className:"clear-completed",onClick:function(){var e=u.filter((function(e){return!e.completed}));d(e)},children:"Clear completed"})]})]})},O=function(){return Object(j.jsx)("section",{className:"todoapp",children:Object(j.jsx)(m,{})})};l.a.render(Object(j.jsx)(O,{}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.16945eb5.chunk.js.map